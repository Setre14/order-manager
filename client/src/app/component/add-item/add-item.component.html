<mat-expansion-panel *ngFor="let type of getTypes()">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{type}}
      </mat-panel-title>
    </mat-expansion-panel-header>

    <table mat-table [dataSource]="getItemsByType(type)" class="mat-elevation-z8">

      <ng-container matColumnDef="name">
        <td mat-cell *matCellDef="let item"> {{item.name}} </td>
      </ng-container>

      <ng-container matColumnDef="price">
        <td mat-cell *matCellDef="let item"> {{item.price | currency }} </td>
      </ng-container>

      <ng-container matColumnDef="active">
        <td mat-cell *matCellDef="let item"> 
          <mat-slide-toggle [checked]="item.isActive()" (toggleChange)="toggleActive(item)"></mat-slide-toggle>
        </td>
      </ng-container>

      <tr mat-row *matRowDef="let row; columns: COLUMNS;"></tr>
    </table>
</mat-expansion-panel>
